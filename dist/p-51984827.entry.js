import{r as t,h as s,g as i,H as e,c as o}from"./p-2069e38c.js";function r(){}r.prototype.init=function(){if(!arguments.length)throw new Error("no arguments");if(arguments[0].lat&&arguments[0].lng)this.lat=arguments[0].lat,this.lon=arguments[0].lng;else if("string"==typeof arguments[0]){var t=arguments[0].split(",");this.lat=parseFloat(t[0].trim()),this.lon=parseFloat(t[1].trim())}else if("[object Array]"===Object.prototype.toString.call(arguments[0])){var s=arguments[0];!0===arguments[1]?(this.lat=s[1],this.lon=s[0]):(this.lat=s[0],this.lon=s[1])}else!0===arguments[2]?(this.lat=arguments[1],this.lon=arguments[0]):(this.lat=arguments[0],this.lon=arguments[1]);this.compute()},r.prototype.compute=function(){function t(t){var s={};return s.initValue=t,s.degrees=Math.abs(t),s.degreesInt=Math.floor(s.degrees),s.degreesFrac=s.degrees-s.degreesInt,s.secondsTotal=3600*s.degreesFrac,s.minutes=s.secondsTotal/60,s.minutesInt=Math.floor(s.minutes),s.seconds=s.secondsTotal-60*s.minutesInt,s}this.north=this.lat>0,this.east=this.lon>0,this.latValues=t(this.lat),this.lonValues=t(this.lon)};var n={FFf:"DD MM ss X",Ff:"DD mm X",f:"dd X"};r.prototype.format=function(t,s){"object"==typeof t&&(s=t,t="FFf"),void 0===t&&(t="FFf"),void 0===s&&(s={}),"string"==typeof s&&(s={latLonSeparator:s}),void 0===s.latLonSeparator&&(s.latLonSeparator=" "),s.decimalPlaces=void 0===s.decimalPlaces?5:parseInt(s.decimalPlaces),Object.keys(n).indexOf(t)>-1&&(t=n[t]);var i=o(this.latValues,this.north?"N":"S"),e=o(this.lonValues,this.east?"E":"W");function o(i,e){var o=t;return(o=(o=(o=(o=(o=(o=(o=(o=(o=(o=(o=o.replace(/DD/g,i.degreesInt+"°")).replace(/dd/g,i.degrees.toFixed(s.decimalPlaces)+"°")).replace(/D/g,i.degreesInt)).replace(/d/g,i.degrees.toFixed(s.decimalPlaces))).replace(/MM/g,i.minutesInt+"′")).replace(/mm/g,i.minutes.toFixed(s.decimalPlaces)+"′")).replace(/M/g,i.minutesInt)).replace(/m/g,i.minutes.toFixed(s.decimalPlaces))).replace(/ss/g,i.seconds.toFixed(s.decimalPlaces)+"″")).replace(/s/g,i.seconds.toFixed(s.decimalPlaces))).replace(/-/g,i.initValue<0?"-":"")).replace(/X/g,e)}return i+s.latLonSeparator+e};const h=class{constructor(s){t(this,s)}handleScroll(t){this.coordinatesEl.innerHTML=function(){var t=new r;return t.init.apply(t,arguments),t}(t.detail.center,!0).format("f")}render(){return s(e,null)}get coordinatesEl(){return i(this)}};h.style="kortxyz-coordinates{height:100%;padding:0 20px 0 20px;display:flex;justify-content:center;font-family:'Roboto Mono', monospace;font-size:10px;line-height:20px;color:#ddd;cursor:pointer}kortxyz-coordinates:hover{background:#dddddd29}";const c=class{constructor(s){t(this,s)}render(){return[s("filler",null),s("kortxyz-coordinates",null),s("kortxyz-gps",null),s("filler",null)]}get footerEl(){return i(this)}};c.style="kortxyz-footer{height:100%;width:100%;display:flex;flex-direction:row;flex:1;background:#007ACC}kortxyz-footer>filler{flex:1}";const a=class{constructor(s){t(this,s),this.mapMoved=o(this,"mapMoved",7),this.state="gps_off",this.onPosition=t=>{this.mapMoved.emit({center:[t.coords.longitude,t.coords.latitude]})}}notFixed(){"gps_fixed"==this.state&&(this.stopGPS(),this.state="gps_not_fixed",this.icon.innerHTML=this.state)}stopGPS(){navigator.geolocation.clearWatch(this.navigator)}startGPS(){this.navigator=navigator.geolocation.watchPosition(this.onPosition,(t=>console.error(t)),{enableHighAccuracy:!0,timeout:5e3,maximumAge:0})}toogle(){"gps_fixed"!=this.state?(this.state="gps_fixed",this.startGPS()):(this.state="gps_off",this.stopGPS()),this.icon.innerHTML=this.state}render(){return[s("i",{class:"material-icons",ref:t=>this.icon=t,onClick:()=>this.toogle()},"gps_off")]}get gpsEl(){return i(this)}};a.style="kortxyz-gps{height:100%;display:flex;width:20px;justify-content:center}kortxyz-gps>.material-icons{color:#ddd;font-size:12px;line-height:20px}kortxyz-gps>.material-icons:hover{color:rgb(255, 255, 255)}";const l=class{constructor(s){t(this,s),this.closed=!0,this.onClick=t=>{const s=t.target.parentElement.getAttribute("content");s&&(this.activecontent?this.activecontent==s?this.close(s):this.activecontent!=s&&(this.close(this.activecontent),this.open(s)):this.open(s))},this.doResize=t=>{t.clientX<240||t.clientX>740||(this.sidebarEl.style.flex="0 0 "+t.clientX+"px")},this.initResize=()=>{document.body.style.cursor="e-resize",window.addEventListener("mousemove",this.doResize,!1),window.addEventListener("mouseup",this.stopResize,!1)},this.stopResize=()=>{document.body.style.cursor="",window.removeEventListener("mousemove",this.doResize,!1),window.removeEventListener("mouseup",this.stopResize,!1)}}open(t){this.closed=!1,document.querySelector(`kortxyz-sideitem[content='${t}']`).classList.add("active");const s=document.createElement(t);this.sidebarEl.querySelector("contents").append(s),this.activecontent=t}close(t){this.closed=!0;const s=document.querySelector(`kortxyz-sideitem[content='${t}']`);console.log(t,s),s.classList.remove("active"),this.sidebarEl.querySelector("contents>"+this.activecontent).remove(),this.activecontent=""}componentDidLoad(){this.activecontent&&this.open(this.activecontent)}render(){return s(e,{class:{closed:this.closed}},s("icons",{onClick:t=>this.onClick(t)},s("slot",null)),s("contents",null),s("resizer",{onMouseDown:()=>this.initResize()}))}get sidebarEl(){return i(this)}};l.style="kortxyz-sidebar{height:100%;display:flex;flex:0 0 340px;background:#252526}kortxyz-sidebar.closed{flex:0 0 40px !important}kortxyz-sidebar>icons{background:#333333;flex:0 0 40px;display:flex;flex-direction:column}kortxyz-sidebar>contents{flex:1;display:flex}kortxyz-sidebar>resizer{flex:0 0 4px;cursor:w-resize}";const d=class{constructor(s){t(this,s),this.icon="face"}render(){return[s("i",{class:"material-icons"},this.icon)]}get sideitemEl(){return i(this)}};d.style="kortxyz-sideitem{height:40px;width:100%;display:flex;user-select:none}kortxyz-sideitem:hover>.material-icons{color:#eee}kortxyz-sideitem.active::before{content:'';width:2px;height:40px;background:#eee;position:absolute}kortxyz-sideitem.active>.material-icons{color:#eee}kortxyz-sideitem>.material-icons{width:100%;cursor:pointer;font-size:20px;justify-content:center;line-height:40px;display:flex;color:#858585}";export{h as kortxyz_coordinates,c as kortxyz_footer,a as kortxyz_gps,l as kortxyz_sidebar,d as kortxyz_sideitem}