import{r as o,h as t,g as e}from"./p-f4ecfe08.js";const l=class{constructor(t){o(this,t),this.originalcollections=[],this.collections=[],this.filterCollections=o=>{const t=o.target.value;this.collections=this.originalcollections.filter((o=>Object.values(o).filter((o=>"string"==typeof o)).join("").toLowerCase().includes(t.toLowerCase())))}}async fetchCollections(o){const t=await fetch(o),e=await t.json();this.originalcollections=e.collections,this.collections=this.originalcollections}componentWillLoad(){if(location.pathname.includes("/collections")){const o=new URLSearchParams(window.location.search).get("q");this.fetchCollections(`${location.origin}/collections?f=json${o?"&q="+o:""}`)}else this.fetchCollections(location.origin+"/collections?f=json")}render(){return[t("header",null,"Collections"),t("input",{type:"text",placeholder:"Search",onInput:o=>this.filterCollections(o)}),t("collectionlist",null,[...new Set(this.collections.map((o=>o.group)))].map((o=>t("group",null,t("input",{id:o,type:"checkbox"}),t("label",{htmlFor:o},t("i",{class:"material-icons"},"keyboard_arrow_down"),o),t("groupcollections",null,this.collections.filter((t=>t.group==o)).map((o=>t("kortxyz-collection",{collection:o}))))))))]}get collectionsEl(){return e(this)}};l.style="kortxyz-collections{height:100%;width:100%;display:flex;flex:1;flex-direction:column;user-select:none;max-height:100%}kortxyz-collections>header{font-family:'Roboto Mono', monospace;font-weight:bold;font-size:12px;color:#BBB;line-height:30px;padding-left:12px;margin:0;width:calc(100% - 12px)}kortxyz-collections>input[type=text]{background:#3C3C3C;padding:5px;border:0;line-height:20px;border-radius:0;margin:0 5px 5px 5px;outline:none;color:rgb(218, 218, 218);font-family:'Roboto Mono', monospace;font-size:10px}kortxyz-collections>input[type=text]:focus{border:0}kortxyz-collections>collectionlist{overflow:auto}group>input{display:none}group>input:checked~groupcollections{display:flex}group>input:checked~label>.material-icons{transform:rotate(0deg)}group>label{font-family:'Roboto Mono', monospace;display:flex;font-size:12px;height:20px;line-height:20px;width:calc(100% - 4px);color:#ddd;cursor:pointer;margin-left:4px}group>label:hover{background:#333}group>label>.material-icons{transform:rotate(-90deg);font-size:14px;line-height:20px}group>groupcollections{display:none;flex-direction:column}";export{l as kortxyz_collections}